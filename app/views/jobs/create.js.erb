var jobID       = "<%= @job.id %>";
var jobPosition = "<%= @job.position %>";
var newSavedJob = "<%=j render partial: 'jobs/saved_job', locals: {job: @job} %>";

function append(job){
  if ( $("#no-saved-jobs").length ){
    $("#no-saved-jobs").remove();
  }
  $('#saved-jobs-list').append(job);
}

function findClickedButton(position){
  return $(
            $('article:contains("'+ position +'")')
            .children()[1]
          )
          .children(".btn")
}

function changeClickedButton(button, ID){
  $(button)
    .attr("id", "saved-job-button-"+ID)
    .removeClass("btn-primary")
    .addClass("btn-success")
    .text("âˆš")
    .prop("disabled", true);
}


append(newSavedJob);
changeClickedButton( findClickedButton(jobPosition), jobID );
